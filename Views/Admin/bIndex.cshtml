@model dynamic
@{
    ViewData["Title"] = "Index Orders";
}
<h5 class="text-center m-2 p-2">Overicht bestellingen per order</h5>

<form method="post" action="bDelete">
    <table class="table table--bottom-margin">
        <thead>
            <tr>
                <th class="col-lg-1 text-center align-middle">
                    Admin operatie
                </th>
                <th class="col-lg-1 text-center align-middle">
                    ID
                </th>
                <th class="col-lg-1 text-center align-middle">
                    Tijdstip
                </th>
                <th class="col-lg-2 align-middle">
                    Klant
                </th>
                <th class="col-lg-1 text-center align-middle">
                    Prijs bestelling
                </th>
                <th class="col-lg-6 text-center align-middle">
                    Details bestelling
                </th>
            </tr>
        </thead>

        <tbody>
            @for (var i = 0; i < Model.Orders.Count; i++)
            {
                <tr>
                    <td class="col-lg-1 text-center align-middle">
                        <input type="checkbox" name="selectedOrders" value="@Model.Orders[i].Id">
                    </td>
                    <td class="col-lg-1 text-center align-middle">
                        @Model.Orders[i].Id
                    </td>
                    <td class="col-lg-1 text-center align-middle">
                        @Model.Orders[i].OrderPlaced
                    </td>
                    <td class="col-lg-2 align-middle">
                        @Model.Orders[i].User.FirstName @Model.Orders[i].User.LastName
                    </td>
                    <td class="col-lg-1 text-center align-middle">
                        @Model.Orders[i].OrderTotal.ToString("0.00")
                    </td>
                    <td class="col-lg-6">
                        <table>
                            <tr>
                                <th class="col-lg-1 text-center">
                                    Aantal
                                </th>
                                <th class="col-lg-4">
                                    Product
                                </th>
                                <th class="col-lg-1 text-center">
                                    Prijs/stuk
                                </th>
                            </tr>

                            @foreach (var detail in Model.OrderDetails)
                            {
                                @if (detail.OrderId == Model.Orders[i].Id)
                                {
                                    <tr>
                                        <td class="col-lg-1 text-center">
                                            @detail.Quantity
                                        </td>
                                        <td class="col-lg-4">
                                            @Model.ProductNames[detail.ProductId]
                                        </td>
                                        <td class="col-lg-1 text-center">
                                            @Model.ProductPrices[detail.ProductId].ToString("0.00")
                                        </td>
                                    </tr>
                                }
                            }
                        </table>
                    </td>
                </tr>
            }
        </tbody>
    </table>
    <div class="align-items-end">
        <button type="submit" class="btn btn-danger">Verwijderen</button>
    </div>

</form>

<br />
<br />
<h5 class="text-center m-2 p-2">Overicht bestellingen per product</h5>

<table>
    <thead>
        <tr>
            <th class="align-middle">Product</th>
            <th class="text-center align-middle">Aantal</th>
        </tr>
    </thead>
    <tbody>
        @for (var i = 0; i < Model.Products.Count; i++)
        {
            <tr>
                <td class="align-middle">
                    @Model.ProductNames[Model.Products[i].Id]
                </td>
                @*                <td class="text-center align-middle">
                    @Model.ProductQuantities[i]
                </td>*@
            </tr>
        }
    </tbody>
    <tfoot>
        <tr>
            <td>
                <b>TOTAALPRIJS: </b>@Model.TotalPrice.ToString("0.00")
            </td>
        </tr>
    </tfoot>

</table>
